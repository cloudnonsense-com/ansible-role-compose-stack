---
- name: Converge
  hosts: all
  gather_facts: True
  vars_files:
    - ../_shared/common-vars.yml
  roles:
    - role: cloudnonsense.compose_stack
      vars:
        compose_stack_type: "grafana"
        compose_stack_name: "grafana-dev"
        compose_stack_state: "present"
        compose_stack_expose_ports: "{{ global_compose_stack_expose_ports }}"
        compose_stack_config:
          influxdb:
            database: "monitoring"
            admin_user: "admin"
            admin_password: "test_password"
          grafana:
            admin_user: "admin"
            admin_password: "test_password"
...
